
/* $f := λ`(,v + ,v1)~`(,v1 + ,v) */
/* $g := λ`(,v * ,v1)~`(,v1 * ,v) */
/* $h := ($f | $g | λ.v) */

$h := ( λ`(,v + ,v )~`(  2 * ,v)
      | λ`(,v + ,v1)~`(,v1 + ,v)
      | λ`(,v * ,v1)~`(,v1 * ,v)
      | λ.v )

/* ($h '(3 + 4)) */
($h '(3 + 3))
/* ($h '(3 * 4)) */
/* ($h '10) */

(1 + 2 + 3)
(10 - 2 - 3)